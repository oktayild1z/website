<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b1220" />
  <title>Pınar Yıldız | Çayyolu Ankara</title>

  <!-- Yazı tipleri -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet" />

  <!-- Mevcut sitenin stylesheet'i (varsa) -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Bu sayfaya özel güçlendirmeler -->
  <style>
    :root{
      --bg:#0b1220;
      --bg-soft:#0f192d;
      --card:#0f1a2d;
      --muted:#9fb1cc;
      --text:#e8f0ff;
      --primary:#22c55e;
      --primary2:#2dd4bf;
      --accent:#ef4444;
      --radius:16px;
      --radius-lg:22px;
      --shadow:0 10px 30px rgba(0,0,0,.25);
      --ring:1px solid rgba(255,255,255,.06);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,"Apple Color Emoji","Segoe UI Emoji";
      background:linear-gradient(120deg,#08101e,#0b1220 45%,#0a1426);
      color:var(--text);
      -webkit-text-size-adjust:100%;
      text-rendering:optimizeLegibility;
      line-height:1.55;
    }
    a{color:inherit}

    /* Üst bar */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:6px 14px;
      background:#091126;
      border-bottom:var(--ring);
      position:sticky; top:0; z-index:50;
      font-size:12px; color:var(--muted);
    }
    .topbar .dt{font-weight:600; opacity:.95}

    /* Header / nav */
    .nav{
      max-width:1200px; margin:10px auto 0;
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 14px 0;
      flex-wrap:wrap; gap:8px 16px;
    }
    .brand{display:flex;align-items:center;gap:10px}
    .brand .dot{
      width:36px; height:36px; border-radius:10px;
      display:grid; place-content:center;
      background:linear-gradient(135deg,var(--primary2),var(--primary));
      color:#031018; font-weight:800;
      box-shadow:0 6px 18px rgba(34,197,94,.35);
    }
    .brand .txt{display:flex;flex-direction:column}
    .brand .txt b{font-size:14px}
    .brand .txt span{font-size:12px; color:var(--muted)}
    .nav nav{display:flex; align-items:center; gap:10px; overflow-x:auto}
    .nav nav a{color:var(--muted); text-decoration:none; padding:8px 10px; border-radius:10px}
    .nav nav a.btn{background:var(--primary); color:#041018; font-weight:800}

    /* Hero */
    .hero-banner{
      position:relative; max-width:1200px; margin:18px auto 28px;
      border-radius:var(--radius-lg); overflow:hidden;
      box-shadow:var(--shadow);
    }
    .hero-banner img{
      width:100%;
      height:clamp(200px, 38vw, 420px);
      object-fit:cover; display:block;
      filter:saturate(1.05) contrast(1.05);
    }
    .hero-banner .overlay{
      position:absolute; inset:0;
      display:grid; place-content:center;
      text-align:center; gap:10px;
      color:#e9eef7;
      background:linear-gradient(180deg,rgba(0,0,0,0.00) 0%, rgba(0,0,0,.35) 65%);
      pointer-events:none;
    }
    .hero-banner .headline{
      font-weight:800; letter-spacing:.2px;
      font-size:clamp(24px, 5vw, 40px);
    }
    .hero-banner .headline b{
      background:linear-gradient(135deg,var(--primary2),var(--primary));
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    .hero-banner .subhead{font-size:clamp(14px,3.2vw,18px); opacity:.95}
    .overlay-fallback{display:none}
    .hero-banner img[hidden]+.overlay-fallback{display:grid}

    /* Generic sections */
    .section{
      max-width:1200px; margin:0 auto;
      padding: clamp(18px,5vw,48px) 14px 24px;
      scroll-margin-top: 72px; /* anchor tıklayınca topbar'a çarpmasın */
    }
    h1{font-size:clamp(28px,5vw,40px); margin:0 0 8px}
    h2{font-size:clamp(22px,4vw,32px); margin:10px 0 14px}
    .muted{color:var(--muted)}

    /* Intro grid */
    .intro-grid{display:grid; grid-template-columns:340px 1fr; gap:28px; align-items:center}
    .intro-photo img{width:100%; border-radius:var(--radius); box-shadow:var(--shadow)}
    .bullets{margin:12px 0 10px; padding-left:18px}
    .bullets li{margin:6px 0}
    .vision{margin-top:8px; color:#cfe2ff}
    .socials{display:flex; gap:12px; flex-wrap:wrap; margin-top:8px}

    /* Filters */
    .filters{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin:6px 0 8px;
    }
    .filters input, .filters select{
      background:var(--bg-soft); color:var(--text);
      border:var(--ring); padding:10px 12px; border-radius:12px;
      outline:none; min-width:140px;
    }
    .filters input{flex:1}

    /* Grid helpers */
    .grid{display:grid; gap:20px}
    .grid.three{grid-template-columns:repeat(3,minmax(0,1fr))}
    @media (max-width:1200px){ .grid.three{grid-template-columns:repeat(2,minmax(0,1fr))} }
    @media (max-width:720px){ .grid.three{grid-template-columns:1fr} }

    /* Card */
    .card{
      background:var(--card); border:var(--ring); border-radius:var(--radius);
      overflow:hidden; box-shadow:0 8px 24px rgba(2,12,26,.4);
      text-decoration:none; color:var(--text);
      display:flex; flex-direction:column;
      transition:transform .18s ease, box-shadow .18s ease;
    }
    .card:hover{ transform:translateY(-3px); box-shadow:0 18px 40px rgba(0,0,0,.26) }
    .card.p.hasimg img{
      width:100%;
      height:auto;
      aspect-ratio:16/9;
      object-fit:cover; object-position:center;
      display:block; background:#0f1520;
    }
    .card .pb{ padding:14px 16px 16px }
    .card h3{ margin:2px 0 6px 0; font-size:18px }
    .card .meta{ font-size:13px; color:var(--muted); margin-bottom:8px }
    .card .price{ color:#ffd1d4; font-weight:800; font-size:18px; margin:8px 0 6px }
    .small{ font-size:12px; color:var(--muted) }

    /* Awards */
    .awards-grid{
      display:grid; gap:16px;
      grid-template-columns:repeat(3,minmax(0,1fr));
    }
    @media (max-width:1200px){ .awards-grid{grid-template-columns:repeat(2,minmax(0,1fr))} }
    @media (max-width:720px){ .awards-grid{grid-template-columns:1fr} }
    .awards-grid img{
      width:100%;
      height:auto;
      aspect-ratio:4/5;           /* poster hissi */
      object-fit:contain;         /* kırpma yok */
      background:#0d1117;
      border:var(--ring);
      border-radius:var(--radius);
      padding:8px;
      box-shadow:var(--shadow);
    }

    /* Reviews */
    .twrap{display:grid; gap:12px; grid-template-columns:repeat(3,minmax(0,1fr))}
    .tcard{background:var(--bg-soft); border:var(--ring); border-radius:12px; padding:12px}
    .thead{display:flex; justify-content:space-between}
    .stars{color:#ffd166}
    @media (max-width:960px){.twrap{grid-template-columns:1fr 1fr}}
    @media (max-width:640px){.twrap{grid-template-columns:1fr}}

    /* Contact */
    .grid.two{display:grid; grid-template-columns:1fr 1fr; gap:16px}
    @media (max-width:720px){ .grid.two{ grid-template-columns:1fr } }
    .map{width:100%; aspect-ratio:16/9; border:0; border-radius:14px; box-shadow:var(--shadow)}
    .contact li{margin:6px 0}

    /* Footer */
    .footer{
      max-width:1200px; margin:0 auto 40px;
      color:var(--muted); padding:20px 14px; border-top:var(--ring)
    }

    /* WhatsApp floating */
    .wa-fab{
      position:fixed; right:16px; bottom:16px; z-index:90;
      width:58px; height:58px; border-radius:50%;
      display:grid; place-content:center;
      background:#25D366; color:#052012;
      text-decoration:none; box-shadow:0 14px 30px rgba(0,0,0,.35);
      transition:transform .15s ease;
    }
    .wa-fab:hover{ transform:scale(1.06) }
    .wa-fab svg{ width:30px; height:30px; display:block }

    /* Hata/Boş */
    .err{color:#ef4444; background:#ef444422; padding:10px 12px; border-radius:10px}

    /* ====== MOBİL DÜZENLEME: Giriş (intro) kayma fix ====== */
    @media (max-width: 720px){
      .intro-grid{
        grid-template-columns: 1fr;   /* tek kolon */
        gap: 16px;
      }
      .intro-photo img{
        max-width: 82%;
        margin: 0 auto;               /* ortala */
        display: block;
      }
      .intro-copy h1{
        font-size: 24px;
        text-align: center;
      }
      .intro-copy .bullets{ padding-left: 20px; }
      .socials{ justify-content: center; }
    }
  </style>
</head>
<body>

  <!-- ÜST BAR -->
  <div class="topbar">
    <div class="dt"><span id="clock">--:--</span> • <span id="date">--.--.----</span></div>
    <div id="rates">USD • EUR • GBP</div>
  </div>

  <!-- NAV -->
  <header class="nav">
    <div class="brand">
      <div class="dot">PY</div>
      <div class="txt"><b>Pınar Yıldız</b><span>Çayyolu • Ankara</span></div>
    </div>
    <nav>
      <a href="#portfoy">Portföy</a>
      <a href="#hakkinda">Hakkımda</a>
      <a href="#oduller">Ödüller</a>
      <a href="#yorumlar">Yorumlar</a>
      <a class="btn" href="#iletisim">İletişim</a>
    </nav>
  </header>

  <!-- HERO -->
  <section class="hero-banner">
    <img id="hero-img" src="assets/banner.jpg" alt="Ankara - Atakule"
         onerror="this.hidden=true" />
    <div class="overlay-fallback overlay">
      <div class="headline">Çayyolu’nun <b>Ödüllü</b> Danışmanı</div>
      <div class="subhead"><em>Güzel hayaller, doğru adımlarla gerçeğe dönüşür.</em></div>
    </div>
    <div class="overlay" aria-hidden="true">
      <div class="headline">Çayyolu’nun <b>Ödüllü</b> Danışmanı</div>
      <div class="subhead"><em>Güzel hayaller, doğru adımlarla gerçeğe dönüşür.</em></div>
    </div>
  </section>

  <!-- HAKKINDA -->
  <section id="hakkinda" class="intro section">
    <div class="intro-grid">
      <div class="intro-photo"><img src="assets/award.jpg" alt="Ödül" /></div>
      <div class="intro-copy">
        <h1><span class="muted">Gayrimenkul Profesyoneli</span><br><strong>Pınar YILDIZ</strong></h1>
        <ul class="bullets">
          <li>📍 RE/MAX Su 2024 Ciro & Portföy Birincisi</li>
          <li>🏆 Müşteri Memnuniyeti Ödülü Sahibi</li>
          <li>⏱ 1 günde kiralama • 48 saatte satış</li>
          <li>📊 3 yıllık tecrübe; Çayyolu bölge uzmanı</li>
          <li>🎓 Maliye mezunu</li>
        </ul>
        <p class="vision">“Evleri değil; insanların hayatına dokunan hikâyeleri satıyorum.”</p>
        <div class="socials">
          <a target="_blank" href="https://www.instagram.com/remaxsupinar">📸 Instagram</a>
          <a target="_blank" href="https://www.linkedin.com/in/p%C4%B1nar-y%C4%B1ld%C4%B1z-4ab33a333">in LinkedIn</a>
          <a target="_blank" href="https://wa.me/905387026443">💬 WhatsApp</a>
        </div>
      </div>
    </div>
  </section>

  <!-- PORTFÖY -->
  <section id="portfoy" class="section">
    <h2>Portföy</h2>
    <div class="filters">
      <input id="q" placeholder="Arama: başlık, semt…" />
      <select id="f_status">
        <option value="">Durum</option>
        <option>Satılık</option>
        <option>Kiralık</option>
      </select>
      <select id="f_rooms">
        <option value="">Oda</option>
        <option>1+1</option><option>2+1</option><option>3+1</option>
        <option>4+1</option><option>5+2</option>
      </select>
      <select id="f_sort" title="Sırala">
        <option value="">Sırala</option>
        <option value="price_desc">Fiyat (↓)</option>
        <option value="price_asc">Fiyat (↑)</option>
        <option value="m2_desc">m² (↓)</option>
        <option value="m2_asc">m² (↑)</option>
      </select>
    </div>

    <div id="cards" class="grid three"></div>
    <p id="empty" class="muted" style="display:none">Kriterlere uyan portföy bulunamadı.</p>
    <p id="csvErr" class="err" style="display:none"></p>
  </section>

  <!-- ÖDÜLLER -->
  <section id="oduller" class="section">
    <h2>Ödüller</h2>
    <div class="awards-grid">
      <img src="assets/award1.jpeg" alt="Ödül 1" onerror="this.src='assets/no-image.jpg'">
      <img src="assets/award2.jpeg" alt="Ödül 2" onerror="this.src='assets/no-image.jpg'">
      <img src="assets/award3.jpeg" alt="Ödül 3" onerror="this.src='assets/no-image.jpg'">
      <img src="assets/award4.jpeg" alt="Ödül 4" onerror="this.src='assets/no-image.jpg'">
      <img src="assets/award5.jpeg" alt="Ödül 5" onerror="this.src='assets/no-image.jpg'">
      <img src="assets/award6.jpeg" alt="Ödül 6" onerror="this.src='assets/no-image.jpg'">
      <img src="assets/award7.jpeg" alt="Ödül 7" onerror="this.src='assets/no-image.jpg'">
      <img src="assets/award8.jpeg" alt="Ödül 8" onerror="this.src='assets/no-image.jpg'">
      <img src="assets/award9.jpeg" alt="Ödül 9" onerror="this.src='assets/no-image.jpg'">
    </div>
  </section>

  <!-- YORUMLAR -->
  <section id="yorumlar" class="section">
    <h2>Müşteri Yorumları</h2>
    <div id="twrap" class="twrap"></div>
  </section>

  <!-- İLETİŞİM -->
  <section id="iletisim" class="section">
    <h2>İletişim</h2>
    <div class="grid two">
      <div>
        <ul class="contact">
          <li>📍 Dodurga, Çınarcık Sk Ankarakent Sit D:2/1A, 06810 Çankaya/Ankara</li>
          <li>☎️ (0312) 236 83 83</li>
          <li>📱 <a href="tel:+905387026443">0538 702 64 43</a></li>
          <li>📧 <a href="mailto:pinary@remax-su-ank.com">pinary@remax-su-ank.com</a></li>
        </ul>
      </div>
      <iframe class="map" loading="lazy"
              src="https://www.google.com/maps?q=Dodurga,+Çınarcık+Sk+Ankarakent+Sit+D:2/1A,+06810+Çankaya/Ankara&output=embed"></iframe>
    </div>
  </section>

  <footer class="footer">© 2025 Pınar Yıldız • Çayyolu / Ankara</footer>

  <!-- WhatsApp Floating -->
  <a class="wa-fab"
     href="https://wa.me/905387026443?text=Merhaba%20P%C4%B1nar%20Han%C4%B1m,%20portf%C3%B6y%20hakk%C4%B1nda%20bilgi%20almak%20istiyorum."
     target="_blank" rel="noopener" aria-label="WhatsApp">
    <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
      <path d="M20.52 3.49A11.78 11.78 0 0 0 12.07 0C5.42 0 .02 5.4.02 12.05c0 2 .52 3.94 1.51 5.67L0 24l6.43-1.48a12.04 12.04 0 0 0 5.64 1.43h.01c6.65 0 12.05-5.4 12.05-12.05a12 12 0 0 0-3.6-8.41ZM12.08 22.02h-.01a10 10 0 0 1-5.1-1.39l-.37-.22-3.82.88.82-3.72-.24-.38a10 10 0 1 1 8.72 4.83Zm5.5-7.89c-.3-.15-1.75-.86-2.02-.96-.27-.1-.47-.15-.67.15-.2.3-.77.95-.94 1.15-.17.2-.35.22-.65.07-.3-.15-1.26-.46-2.4-1.46-.88-.79-1.47-1.76-1.65-2.06-.17-.3-.02-.46.13-.61.14-.14.3-.35.45-.52.15-.17.2-.3.3-.5.1-.2.05-.37-.02-.52-.07-.15-.67-1.61-.92-2.2-.24-.58-.49-.5-.67-.5h-.57c-.2 0-.52.07-.8.37-.27.3-1.05 1.02-1.05 2.5s1.08 2.9 1.23 3.1c.15.2 2.12 3.23 5.13 4.52.72.31 1.28.5 1.72.64.72.23 1.38.2 1.9.12.58-.09 1.75-.72 2-1.41.24-.69.24-1.29.17-1.41-.07-.12-.27-.2-.57-.35Z"/>
    </svg>
  </a>

  <!-- ===== JS ===== -->
  <script>
    /* Saat / Tarih */
    function pad(n){return n<10?'0'+n:n}
    function tick(){
      const d=new Date();
      document.getElementById('clock').textContent = pad(d.getHours())+':'+pad(d.getMinutes());
      document.getElementById('date').textContent  = pad(d.getDate())+'.'+pad(d.getMonth()+1)+'.'+d.getFullYear();
    }
    tick(); setInterval(tick, 1000);

    /* Kurlar: 3 kaynak yedekli */
    async function loadRates(){
      const el=document.getElementById('rates');
      async function tryOne(url,pick){
        try{
          const r=await fetch(url,{cache:'no-store'}); if(!r.ok) throw 0;
          const j=await r.json(); const o=pick(j);
          if(o){ el.textContent=`USD ₺ ${o.usd} • EUR ₺ ${o.eur} • GBP ₺ ${o.gbp}`; return true; }
        }catch(e){}
        return false;
      }
      if(await tryOne('https://api.exchangerate.host/latest?base=TRY&symbols=USD,EUR,GBP', j=> j?.rates?({usd:(1/j.rates.USD).toFixed(2), eur:(1/j.rates.EUR).toFixed(2), gbp:(1/j.rates.GBP).toFixed(2)}):null)) return;
      if(await tryOne('https://open.er-api.com/v6/latest/TRY',                         j=> j?.rates?({usd:(1/j.rates.USD).toFixed(2), eur:(1/j.rates.EUR).toFixed(2), gbp:(1/j.rates.GBP).toFixed(2)}):null)) return;
      if(await tryOne('https://api.frankfurter.app/latest?from=TRY&to=USD,EUR,GBP',   j=> j?.rates?({usd:(1/j.rates.USD).toFixed(2), eur:(1/j.rates.EUR).toFixed(2), gbp:(1/j.rates.GBP).toFixed(2)}):null)) return;
      el.textContent='Kurlar yüklenemedi';
    }
    loadRates(); setInterval(loadRates, 300000);

    /* Yardımcılar */
    function toNumber(v){
      if(!v) return 0;
      const s=String(v).replace(/[^\d.,]/g,'').replace(/\./g,'').replace(',', '.');
      const n=parseFloat(s);
      return isNaN(n)?0:n;
    }
    function imgOf(it){
      const u=(it.image_url||'').trim();
      return (u && /^https?:\/\//i.test(u)) ? u : 'assets/no-image.jpg';
    }

    /* Kart */
    function card(x){
      const img = imgOf(x);
      const href = (x.link && /^https?:\/\//i.test(x.link)) ? x.link : '#';
      return `
      <a class="card p hasimg" target="_blank" rel="noopener" href="${href}">
        <img src="${img}" alt="${(x.title||'').replace(/"/g,'&quot;')}"
             onerror="this.onerror=null;this.src='assets/no-image.jpg'">
        <div class="pb">
          <h3>${x.title||''}</h3>
          <div class="meta">${x.district||''} • ${x.rooms||''} • ${x.m2||''} m²</div>
          <div class="price">${x.price||''}</div>
          <div class="small">Detaya gitmek için karta tıklayın</div>
        </div>
      </a>`;
    }

    /* Sıralama & Filtre */
    function sortData(arr, key){
      const a=[...arr];
      switch(key){
        case 'price_asc':  return a.sort((x,y)=>toNumber(x.price)-toNumber(y.price));
        case 'price_desc': return a.sort((x,y)=>toNumber(y.price)-toNumber(x.price));
        case 'm2_asc':     return a.sort((x,y)=>toNumber(x.m2)-toNumber(y.m2));
        case 'm2_desc':    return a.sort((x,y)=>toNumber(y.m2)-toNumber(x.m2));
        default: return a;
      }
    }
    function render(data){
      const q   = document.getElementById('q').value.toLowerCase();
      const st  = document.getElementById('f_status').value;
      const rm  = document.getElementById('f_rooms').value;
      const srt = document.getElementById('f_sort').value;

      let items = data.filter(x=>
        (!q || String(x.title||'').toLowerCase().includes(q) || String(x.district||'').toLowerCase().includes(q)) &&
        (!st || x.status===st) &&
        (!rm || x.rooms===rm)
      );
      items = sortData(items, srt);

      document.getElementById('cards').innerHTML = items.map(card).join('');
      document.getElementById('empty').style.display = items.length?'none':'block';
    }

    /* Portföy verisini çek */
    async function loadAndRender(){
      const e=document.getElementById('csvErr'); e.style.display='none';
      try{
        const res = await fetch('/.netlify/functions/portfolio', {cache:'no-store'});
        if(!res.ok) throw new Error('HTTP '+res.status);
        const data = await res.json();
        window._DATA = Array.isArray(data) ? data : [];
        render(window._DATA);
      }catch(err){
        e.textContent='Portföy yüklenemedi: '+err.message+' — Function yanıtını ve CSV yayın linkini kontrol edin.';
        e.style.display='block';
      }
    }
    ['q','f_status','f_rooms','f_sort'].forEach(id=>{
      const el=document.getElementById(id);
      if(el) el.addEventListener('input', ()=>render(window._DATA||[]));
    });
    loadAndRender(); setInterval(loadAndRender, 120000);

    /* Yorumlar */
    const REVIEWS=[
      {n:'Seda K.',t:'1 günde kiralık; süreç şeffaf ve çok profesyoneldi.',s:5},
      {n:'Gökhan T.',t:'Doğru fiyat analiziyle 3 günde satış.',s:5},
      {n:'Mehmet A.',t:'Çayyolu bölgesinde rakipsiz, kesinlikle tavsiye ederim.',s:5},
      {n:'Ebru D.',t:'İlk görüşmeden tapuya kadar yanımızdaydı.',s:5},
      {n:'Nur S.',t:'Kiralama 48 saatte tamamlandı.',s:5},
      {n:'Tamer Y.',t:'İletişimi ve hızını çok beğendik.',s:5},
      {n:'Selin B.',t:'Yatırım için en doğru seçenekleri sundu.',s:4},
      {n:'Mert C.',t:'Fotoğraf ve ilan dili mükemmeldi.',s:5},
      {n:'Gizem K.',t:'Süreç boyunca her adım bilgi verildi.',s:5},
      {n:'Emre L.',t:'Bölgede ciddi portföy ağı var.',s:5},
      {n:'Damla P.',t:'Kısa sürede kaliteli kiracı bulundu.',s:5},
      {n:'Bora Z.',t:'Sonuç odaklı ve güven veriyor.',s:5}
    ];
    function star(n){return '★★★★★'.slice(0, Math.max(0, Math.min(5,n)))}
    document.getElementById('twrap').innerHTML =
      REVIEWS.map(r=>`<div class="tcard"><div class="thead"><b>${r.n}</b><span class="src muted">Google</span></div><div class="stars">${star(r.s)}</div><div>${r.t}</div></div>`).join('');
  </script>
</body>
</html>
