<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>PÄ±nar YÄ±ldÄ±z | Ã‡ayyolu Ankara</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">

<!-- YalnÄ±zca kart gÃ¶rselini dÃ¼zgÃ¼n gÃ¶stermek iÃ§in minik ek stil -->
<style>
  /* Karttaki kapak gÃ¶rseli 16:9 oranda kÄ±rpÄ±lsÄ±n, taÅŸan kÄ±sÄ±mlar gizlensin */
  .card.p .thumb{position:relative;width:100%;aspect-ratio:16/9;overflow:hidden;border-radius:16px 16px 0 0;background:#0f1626}
  .card.p .thumb img{width:100%;height:100%;object-fit:cover;display:block}
  /* EÄŸer .card.p doÄŸrudan <img> iÃ§eriyorsa (thumb yoksa) yine de kaplasÄ±n */
  .card.p > img{width:100%;height:260px;object-fit:cover;display:block}
</style>
</head>
<body>
<div class="topbar"><div class="dt"><span id="clock">--:--</span> <span id="date">--.--.----</span></div><div id="rates">USD â€¢ EUR â€¢ GBP</div></div>
<header class="nav">
  <div class="brand"><div class="dot">PY</div><div class="txt"><b>PÄ±nar YÄ±ldÄ±z</b><span>Ã‡ayyolu â€¢ Ankara</span></div></div>
  <nav><a href="#portfoy">PortfÃ¶y</a><a href="#hakkinda">HakkÄ±mda</a><a href="#oduller">Ã–dÃ¼ller</a><a href="#yorumlar">Yorumlar</a><a class="btn" href="#iletisim">Ä°letiÅŸim</a></nav>
</header>

<section class="hero-banner">
  <img src="assets/banner.jpg" onerror="this.style.display='none';document.getElementById('hero-fb').style.display='grid';" alt="Atakule">
  <div id="hero-fb" class="overlay" style="display:none"><div class="headline">Ã‡ayyoluâ€™nun <b>Ã–dÃ¼llÃ¼</b> DanÄ±ÅŸmanÄ±</div><div class="subhead"><em>GÃ¼zel hayaller, doÄŸru adÄ±mlarla gerÃ§eÄŸe dÃ¶nÃ¼ÅŸÃ¼r.</em></div></div>
  <div class="overlay"><div class="headline">Ã‡ayyoluâ€™nun <b>Ã–dÃ¼llÃ¼</b> DanÄ±ÅŸmanÄ±</div><div class="subhead"><em>GÃ¼zel hayaller, doÄŸru adÄ±mlarla gerÃ§eÄŸe dÃ¶nÃ¼ÅŸÃ¼r.</em></div></div>
</section>

<section id="hakkinda" class="intro section">
  <div class="intro-grid">
    <div class="intro-photo"><img src="assets/award.jpg" alt="Ã–dÃ¼l"></div>
    <div class="intro-copy">
      <h1><span class="muted">Gayrimenkul Profesyoneli</span><br><strong>PÄ±nar YILDIZ</strong></h1>
      <ul class="bullets">
        <li>ğŸ“ RE/MAX Su 2024 Ciro & PortfÃ¶y Birincisi</li>
        <li>ğŸ† MÃ¼ÅŸteri Memnuniyeti Ã–dÃ¼lÃ¼ Sahibi</li>
        <li>â± 1 gÃ¼nde kiralama â€¢ 48 saatte satÄ±ÅŸ</li>
        <li>ğŸ“Š 3 yÄ±llÄ±k tecrÃ¼be; Ã‡ayyolu bÃ¶lge uzmanÄ±</li>
        <li>ğŸ“ Maliye mezunu</li>
      </ul>
      <p class="vision">â€œEvleri deÄŸil; insanlarÄ±n hayatÄ±na dokunan hikÃ¢yeleri satÄ±yorum.â€</p>
      <div class="socials">
        <a target="_blank" href="https://www.instagram.com/remaxsupinar">ğŸ“¸ Instagram</a>
        <a target="_blank" href="https://www.linkedin.com/in/p%C4%B1nar-y%C4%B1ld%C4%B1z-4ab33a333">in LinkedIn</a>
        <a target="_blank" href="https://wa.me/905387026443">ğŸ’¬ WhatsApp</a>
      </div>
    </div>
  </div>
</section>

<section id="portfoy" class="section">
  <h2>PortfÃ¶y</h2>
  <div class="filters">
    <input id="q" placeholder="Arama: baÅŸlÄ±k, semtâ€¦">
    <select id="f_status"><option value="">Durum</option><option>SatÄ±lÄ±k</option><option>KiralÄ±k</option></select>
    <select id="f_rooms"><option value="">Oda</option><option>1+1</option><option>2+1</option><option>3+1</option><option>4+1</option><option>5+2</option></select>
  </div>
  <div id="cards" class="grid three"></div>
  <p id="empty" class="muted" style="display:none">Kriterlere uyan portfÃ¶y bulunamadÄ±.</p>
  <p id="csvErr" class="err" style="display:none"></p>
</section>

<section id="oduller" class="section"><h2>Ã–dÃ¼ller</h2><div class="badges">
<span>2024 YÄ±ldÄ±zlar KulÃ¼bÃ¼</span><span>RE/MAX Su â€“ Ä°ÅŸlem Birincisi</span><span>RE/MAX Su â€“ Ciro Birincisi</span>
<span>RE/MAX Su â€“ PortfÃ¶y Birincisi</span><span>RE/MAX Su â€“ MÃ¼ÅŸteri Memnuniyeti Birincisi</span>
<span>2025 Q1&Q2 MÃ¼ÅŸteri Memnuniyeti</span><span>2025 Q1&Q2 Ä°ÅŸlem</span><span>2025 Q1&Q2 Ciro</span><span>2025 Haziran â€“ 3. BÃ¶lge MÃ¼ÅŸteri Memnuniyeti</span>
</div></section>

<section id="yorumlar" class="section"><h2>MÃ¼ÅŸteri YorumlarÄ±</h2><div id="twrap" class="twrap"></div></section>

<section id="iletisim" class="section"><h2>Ä°letiÅŸim</h2><div class="grid two">
 <div><ul class="contact"><li>ğŸ“ Dodurga, Ã‡Ä±narcÄ±k Sk Ankarakent Sit D:2/1A, 06810 Ã‡ankaya/Ankara</li><li>â˜ï¸ (0312) 236 83 83</li><li>ğŸ“± <a href="tel:+905387026443">0538 702 64 43</a></li><li>ğŸ“§ <a href="mailto:pinary@remax-su-ank.com">pinary@remax-su-ank.com</a></li></ul></div>
 <iframe class="map" loading="lazy" src="https://www.google.com/maps?q=Dodurga,+Ã‡Ä±narcÄ±k+Sk+Ankarakent+Sit+D:2/1A,+06810+Ã‡ankaya/Ankara&output=embed"></iframe>
</div></section>

<footer class="footer">Â© 2025 PÄ±nar YÄ±ldÄ±z â€¢ Ã‡ayyolu / Ankara</footer>

<script>
function pad(n){return n<10?'0'+n:n}
function tick(){const d=new Date();document.getElementById('clock').textContent=pad(d.getHours())+':'+pad(d.getMinutes());document.getElementById('date').textContent=pad(d.getDate())+'.'+pad(d.getMonth()+1)+'.'+d.getFullYear();}
setInterval(tick,1000); tick();

async function loadRates(){
  const el=document.getElementById('rates');
  async function tryOne(url,pick){
    try{
      const r=await fetch(url,{cache:'no-store'});
      if(!r.ok) throw 0;
      const j=await r.json();
      const o=pick(j);
      if(o){ el.textContent=`USD â‚º ${o.usd} â€¢ EUR â‚º ${o.eur} â€¢ GBP â‚º ${o.gbp}`; return true; }
    }catch(e){}
    return false;
  }
  if(await tryOne('https://api.exchangerate.host/latest?base=TRY&symbols=USD,EUR,GBP', j=> j&&j.rates ? ({usd:(1/j.rates.USD).toFixed(2), eur:(1/j.rates.EUR).toFixed(2), gbp:(1/j.rates.GBP).toFixed(2)}) : null)) return;
  if(await tryOne('https://open.er-api.com/v6/latest/TRY', j=> j&&j.rates ? ({usd:(1/j.rates.USD).toFixed(2), eur:(1/j.rates.EUR).toFixed(2), gbp:(1/j.rates.GBP).toFixed(2)}) : null)) return;
  if(await tryOne('https://api.frankfurter.app/latest?from=TRY&to=USD,EUR,GBP', j=> j&&j.rates ? ({usd:(1/j.rates.USD).toFixed(2), eur:(1/j.rates.EUR).toFixed(2), gbp:(1/j.rates.GBP).toFixed(2)}) : null)) return;
  el.textContent='Kurlar yÃ¼klenemedi';
}
loadRates(); setInterval(loadRates,300000);

/* === PORTFÃ–Y ===
   - Veri .netlify/functions/portfolio'dan gelir
   - image_url yok/bozuksa assets/no-image.jpg kullanÄ±lÄ±r
*/

// (Eski CSV sabitini bÄ±raktÄ±m ama kullanÄ±lmÄ±yor)
window.PORTFOLIO_CSV = '';

function normalizeHeader(h){
  h=(h||'').trim().toLowerCase();
  const map={
    'baÅŸlÄ±k':'title','baslik':'title','title':'title',
    'fiyat':'price','price':'price',
    'semt':'district','district':'district',
    'm2':'m2','metrekare':'m2',
    'oda':'rooms','rooms':'rooms',
    'durum':'status','status':'status',
    'sahibinden link':'link','ilan linki':'link','link':'link',
    'kapak fotograf':'image_url','kapak fotoÄŸraf':'image_url','image_url':'image_url','gÃ¶rsel':'image_url','resim':'image_url',
    'tarih':'updated_at','updated_at':'updated_at'
  };
  return map[h]||h;
}

// GÃ¶rsel fallback
function imgOf(it){
  return (it.image_url && it.image_url.startsWith('http')) ? it.image_url : 'assets/no-image.jpg';
}

// Kart ÅŸablonu (gÃ¶rsel cover)
function card(x){
  const img=imgOf(x);
  const href=(x.link&&x.link.startsWith('http'))?x.link:'#';
  return `<a class="card p ${img?'hasimg':''}" target="_blank" rel="noopener" href="${href}">
    <div class="thumb">
      <img src="${img}" alt="${x.title||''}" loading="lazy"
           onerror="this.onerror=null;this.src='assets/no-image.jpg'">
    </div>
    <div class="pb"><h3>${x.title||''}</h3>
      <div class="meta">${x.district||''} â€¢ ${x.rooms||''} â€¢ ${x.m2||''} mÂ²</div>
      <div class="price">${x.price||''}</div>
      <div class="small muted">Detaya gitmek iÃ§in karta tÄ±klayÄ±n</div>
    </div></a>`;
}

function render(data){
  const q=document.getElementById('q').value.toLowerCase(),
        st=document.getElementById('f_status').value,
        r=document.getElementById('f_rooms').value;
  const items=data.filter(x=>(!q||String(x.title||'').toLowerCase().includes(q)||String(x.district||'').toLowerCase().includes(q))
    &&(!st||x.status===st)&&(!r||x.rooms===r));
  document.getElementById('cards').innerHTML = items.map(card).join('');
  document.getElementById('empty').style.display = items.length?'none':'block';
}

async function loadAndRender(){
  const e=document.getElementById('csvErr'); e.style.display='none';
  try{
    const res = await fetch('/.netlify/functions/portfolio', {cache:'no-store'});
    if(!res.ok) throw new Error('HTTP '+res.status);
    const data = await res.json();
    // Opsiyonel: fiyat sayÄ±sal alana gÃ¶re sÄ±rala (varsa)
    data.sort((a,b)=> (b.price_num||0) - (a.price_num||0));
    window._DATA=data; render(data);
  }catch(err){
    e.textContent='PortfÃ¶y yÃ¼klenemedi: '+err.message;
    e.style.display='block';
  }
}
['q','f_status','f_rooms'].forEach(id=>document.getElementById(id).addEventListener('input',()=>render(window._DATA||[])));
loadAndRender(); setInterval(loadAndRender,120000);

// Yorumlar
const REVIEWS=[
  {n:'Seda K.',t:'1 gÃ¼nde kiralÄ±k; sÃ¼reÃ§ ÅŸeffaf ve Ã§ok profesyoneldi.',s:5},
  {n:'GÃ¶khan T.',t:'DoÄŸru fiyat analiziyle 3 gÃ¼nde satÄ±ÅŸ.',s:5},
  {n:'Mehmet A.',t:'Ã‡ayyolu bÃ¶lgesinde rakipsiz, kesinlikle tavsiye ederim.',s:5},
  {n:'Ebru D.',t:'Ä°lk gÃ¶rÃ¼ÅŸmeden tapuya kadar yanÄ±mÄ±zdaydÄ±.',s:5},
  {n:'Nur S.',t:'Kiralama 48 saatte tamamlandÄ±.',s:5},
  {n:'Tamer Y.',t:'Ä°letiÅŸimi ve hÄ±zÄ±nÄ± Ã§ok beÄŸendik.',s:5},
  {n:'Selin B.',t:'YatÄ±rÄ±m iÃ§in en doÄŸru seÃ§enekleri sundu.',s:4},
  {n:'Mert C.',t:'FotoÄŸraf ve ilan dili mÃ¼kemmeldi.',s:5},
  {n:'Gizem K.',t:'SÃ¼reÃ§ boyunca her adÄ±m bilgi verildi.',s:5},
  {n:'Emre L.',t:'BÃ¶lgede ciddi portfÃ¶y aÄŸÄ± var.',s:5},
  {n:'Damla P.',t:'KÄ±sa sÃ¼rede kaliteli kiracÄ± bulundu.',s:5},
  {n:'Bora Z.',t:'SonuÃ§ odaklÄ± ve gÃ¼ven veriyor.',s:5}
];
function star(n){return 'â˜…â˜…â˜…â˜…â˜…'.slice(0,n)}
document.getElementById('twrap').innerHTML=REVIEWS.map(r=>`<div class="tcard"><div class="thead"><b>${r.n}</b><span class="src">Google</span></div><div class="stars">${star(r.s)}</div><div>${r.t}</div></div>`).join('');
</script>
</body>
</html>
